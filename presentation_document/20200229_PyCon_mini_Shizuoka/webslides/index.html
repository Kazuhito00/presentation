<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <!-- CSS Base -->
        <link rel="stylesheet" type='text/css' media='all' href="./static/css/webslides.css"/>
        <!-- Optional - CSS SVG Icons (Font Awesome) -->
        <link rel="stylesheet" type='text/css' media='all' href="./static/css/svg-icons.css"/>
        <link rel="shortcut icon" sizes="16x16" href="favicon.png">
        <script type="text/javascript" src="/eel.js"></script>
    </head>
    <body>

        <article id="webslides" class="bg-light">
            <!--セッション：EelとWebSlidesで一味違う画像処理のプレゼン-->
            <!--スライド-->
            <section class="slide-center">
                <span class="background" style="background-image:url('./image/00.gif')"></span>
            </section>
            <!--スライド-->
            <section class="aligncenter fullscreen">
                <span class="background" style="background-image:url('./image/04.png')"></span>
                <div class="wrap">
                  <img id="python_video01" style="width: 100vw; height: 100vh;" src="./image/noimage.png">
                </div>
            </section>
            <!--スライド-->
            <section class="slide-center">
                <span class="background" style="background-image:url('./image/01.png')"></span>
                <div class="wrap">
                    <div class="content-center">
                        <h1>EelとWebSlidesで一味違う<br>画像処理のプレゼン</h1>
                    </div>
                </div>
            </section>
            <!--スライド-->
            <section>
                <span class="background" style="background-image:url('./image/02.png')"></span>
                <div class="wrap">
                    <div class="content-center">
                        <h1>突然ですが……</h1>
                    </div>
                </div>
            </section>
            <!--スライド-->
            <section>
                <span class="background" style="background-image:url('./image/02.png')"></span>
                <div class="wrap">
                    <div class="content-center">
                        <h1>プレゼンソフトって</h1>
                        <h1>結構沢山ありますよね？</h1>
                    </div>
                </div>
            </section>
            <!--スライド-->
            <section>
                <span class="background" style="background-image:url('./image/02.png')"></span>
                <div class="wrap">
                <h3>プレゼンソフト何使ってる？</h3>
                <h4>☞聞取調査結果　※高橋独自調べ</h4>
                <ul class="flexblock border blink">
                    <li><a href=""><h4><strong>PowerPoint</strong></h4>Microsoft</a></li>
                    <li><a href=""><h4><strong>Keynote</strong></h4>Apple</a></li>
                    <li><a href=""><h4><strong>Slides</strong></h4>Google</a></li>
                    <li><a href=""><h4><strong>Impress</strong></h4>LibreOffice</a></li>
                    <li><a href=""><h4><strong>Qiitaスライド</strong></h4>Increments</a></li>
                    <li><a href=""><h4><strong>reveal.js</strong></h4></a></li>
                    <li><a href=""><h4><strong>WebSlides</strong></h4></a></li>
                    <li><a href=""><h4><strong>GitPitch</strong></h4></a></li>
                    <li><a href=""><h4><strong>Prezi</strong></h4>Prezi Inc.</a></li>
                    <li><a href=""><h4><strong>Rabbit </strong></h4></a></li>
                    <li><a href=""><h4><strong>VRChat【？】</strong></h4>VRChat Inc.</a></li>
                    <li><a href=""><h4><strong>Adobe XD【？】</strong></h4>Adobe Systems Incorporated</a></li>
                    <li><a href=""><h4><strong>Excel【？】</strong></h4>Microsoft</a></li>
                    <li><a href=""><h4><strong>Unity【！】</strong></h4>ユニティ・テクノロジーズ</a></li>
                    <li><a href=""><h4><strong>RPGﾂｸｰﾙ【！？】</strong></h4>KADOKAWA</a></li>
                    <li><a href=""><h4><strong>Vim【？！？！】</strong></h4></a></li>
                    <li><a href=""><h4><strong>etc, etc,,,</strong></h4></a></li>
                </ul>
                </div>
            </section>
            <!--スライド-->
            <section>
                <span class="background" style="background-image:url('./image/02.png')"></span>
                <div class="wrap">
                    <div class="content-center">
                        <h1>と言うか……</h1>
                    </div>
                </div>
            </section>
            <!--スライド-->
            <section>
                <span class="background" style="background-image:url('./image/02.png')"></span>
                <div class="wrap">
                    <div class="wrap">
                        <h1 class="aligncenter">お前、誰よ？</h1>
                        <div class="grid">
                            <div class="column">
                                <img class="aligncenter size-60" src="./image/fish.gif">
                            </div>
                            <div class="column">
                                <h3>名前：高橋かずひと</h3>
                                <h3>Twitter：@KzhtTkhs</h3>
                                <h3>お仕事：組込、画像処理、<br>　　　：IoT、Webアプリなど</h3>
                                <br>
                                <h5>その他、個人の活動で、インディーゲーム制作のお手伝をしています。</h5>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            <!--スライド-->
            <section class="bg-blue aligncenter fullscreen">
                <div class="embed">
                    <video class="background-video dark" autoplay muted loop poster="./image/2019production.png">
                        <source src="./image/2019production.mp4" type="video/mp4">
                    </video>
                </div>
                <div class="wrap">
                    <h3 ><code>最近はディープラーニング(主に物体検出)やＡＲでよく遊んでいます。</code></h3>
                </div>
            </section>
            <!--スライド-->
            <section>
                <span class="background" style="background-image:url('./image/02.png')"></span>
                <div class="wrap">
                    <div class="content-center">
                        <h1>そして、やっと本題。</h1>
                        <h5>※ここまでPythonの話題無し</h5>
                    </div>
                </div>
            </section>
            <!--スライド-->
            <section class="aligncenter">
                <span class="background" style="background-image:url('./image/02.png')"></span>
                <div class="wrap">
                    <div>
                        <h1>昨今の<strong><font color="#0274b8">P</font><font color="#fdcd3e">y</font>thon</strong>の盛り上がりは凄いですね😀！</h1>
                    </div>
                </div>
            </section>
            <!--スライド-->
            <section class="aligncenter">
                <span class="background" style="background-image:url('./image/02.png')"></span>
                <div class="wrap">
                    <div>
                        <h1>僕は良く画像処理で<strong>Python</strong>を使っています。</h1>
                    </div>
                </div>
            </section>
            <!--スライド-->
            <section class="aligncenter">
                <span class="background" style="background-image:url('./image/02.png')"></span>
                <div class="wrap">
                    <div>
                        <h1>ちょいちょい作ったものをネタに<br>勉強会で発表するのですが……</h1>
                    </div>
                </div>
            </section>
            <!--スライド
            <section>
                <span class="background" style="background-image:url('./image/02.png')"></span>
                <div class="wrap">
                    <div class="content-center">
                        <h1>こんな光景見たこと<br>ありませんか？</h1>
                    </div>
                </div>
            </section>-->
            <!--スライド-->
            <section class="aligncenter fullscreen">
                <div class="embed">
                    <video class="background-video" autoplay muted poster="./image/02.png">
                        <source src="./image/demo01-01.mp4" type="video/mp4">
                    </video>
                </div>
            </section>
            <!--スライド-->
            <section class="aligncenter">
                <span class="background dark" style="background-image:url('./image/demo01-01_after.png')"></span>
                <div class="wrap">
                    <h1><code>スライドからデモへ切り替えようとして<font color="#f6003e">長い</font></code></h1>
                    <h1><code>※高橋 失敗例①</code></h1>
                    <h5><code>※5分のLTとかで1分待つとか……</code></h5>
                </div>
            </section>
            <!--スライド-->
            <section class="aligncenter fullscreen">
                <div class="embed">
                    <video class="background-video" autoplay muted poster="./image/02.png">
                        <source src="./image/demo01-02.mp4" type="video/mp4">
                    </video>
                </div>
            </section>
            <!--スライド-->
            <section class="aligncenter">
                <span class="background" style="background-image:url('./image/demo01-02_after2.png')"></span>
            </section>
            <!--スライド-->
            <section class="aligncenter">
                <span class="background dark" style="background-image:url('./image/demo01-02_after2.png')"></span>
                <div class="wrap">
                    <h1><code>発表の時に限って発生する<font color="#f6003e">エラー</font></code></h1>
                    <h1><code>※高橋 失敗例②</code></h1>
                </div>
            </section>
            <!--スライド-->
            <section class="aligncenter fullscreen">
                <div class="embed">
                    <video class="background-video" autoplay muted poster="./image/02.png">
                        <source src="./image/demo01-03.mp4" type="video/mp4">
                    </video>
                </div>
            </section>
            <!--スライド-->
            <section class="aligncenter">
                <span class="background dark" style="background-image:url('./image/demo01-03_after.png')"></span>
                <div class="wrap">
                    <h1><code>そもそも、スライドから切り替えること自体<br>あんまり<font color="#f6003e">かっこよくない</font></code></h1>
                    <h1><code>※個人の感想です</code></h1>
                </div>
            </section>
            <!--スライド-->
            <section>
                <span class="background" style="background-image:url('./image/02.png')"></span>
                <div class="wrap">
                    <div class="content-center">
                        <h1>では、埋め込もう🤔</h1>
                    </div>
                </div>
            </section>
            <!--スライド-->
            <section class="aligncenter fullscreen">
                <div class="embed">
                    <video class="background-video" autoplay muted poster="./image/02.png">
                        <source src="./image/demo01-04.mp4" type="video/mp4">
                    </video>
                </div>
            </section>
            <!--スライド-->
            <section class="aligncenter">
                <span class="background dark" style="background-image:url('./image/demo01-04_after.png')"></span>
                <div class="wrap">
                    <h1><code>もはや<font color="#f6003e">お約束</font></code></h1>
                    <h1><code>※個人の感想です</code></h1>
                </div>
            </section>
            <!--スライド-->
            <section>
                <span class="background" style="background-image:url('./image/02.png')"></span>
                <div class="wrap">
                    <div class="content-center">
                        <h1>では、埋め込も……</h1>
                    </div>
                </div>
            </section>
            <!--スライド-->
            <section class="aligncenter">
                <span class="background" style="background-image:url('./image/02.png')"></span>
                <div class="wrap">
                    <div>
                        <h1>でも、実際に動いているところ見せたい🙄</h1>
                        <h1>※わがまま</h1>
                    </div>
                </div>
            </section>
            <!--スライド-->
            <section class="aligncenter">
                <span class="background" style="background-image:url('./image/presentation_soft.png')"></span>
            </section>
            <!--スライド-->
            <section class="aligncenter">
                <span class="background dark" style="background-image:url('./image/presentation_soft.png')"></span>
                <div class="wrap">
                    <div>
                        <h1>しかし、望みを叶えるソフトは無い😇</h1>
                    </div>
                </div>
            </section>
            <!--スライド-->
            <section class="aligncenter">
                <span class="background" style="background-image:url('./image/02.png')"></span>
                <div class="wrap">
                    <div>
                        <h1>🤔</h1>
                    </div>
                </div>
            </section>
            <!--スライド-->
            <section class="aligncenter">
                <span class="background" style="background-image:url('./image/02.png')"></span>
                <div class="wrap">
                    <div>
                        <h1>そうだ、Pythonなら何とかしてくれる🙂！(名案)</h1>
                    </div>
                </div>
            </section>
            <!--スライド-->
            <section class="aligncenter">
                <span class="background" style="background-image:url('./image/02.png')"></span>
                <div class="wrap">
                    <div>
                        <h1>そうだ、プレゼンソフトを作ろう🙃(<font color="#f6003e">迷</font>案)</h1>
                    </div>
                </div>
            </section>
            <!--スライド-->
            <section class="aligncenter">
                <span class="background" style="background-image:url('./image/02.png')"></span>
                <div class="wrap">
                    <div>
                        <h1>とは言え、ゼロから作るのは大変なので</h1>
                        <h1>いくつかのOSSやパッケージを使います。</h1>
                    </div>
                </div>
            </section>
            <!--スライド-->
            <section class="aligncenter">
                <span class="background" style="background-image:url('./image/02.png')"></span>
                <div class="wrap">
                    <div>
                        <h1>こんな感じ🤔</h1>
                    </div>
                </div>
            </section>
            <!--スライド-->
            <section>
                <span class="background" style="background-image:url('./image/02.png')"></span>
                <div class="wrap">
                <img class="alignleft size-60" src="./image/architecture01.png">
                <br>
                <br>
                <h2>システム構成 概要</h2>
                <p><code>System architecture overview</code></p>
                <br>
                <br>
                <br>
                <h4><strong>WebSlides：1.5.0</strong></h4>
                <h4><strong>OpenCV：4.1.2</strong></h4>
                <h4><strong>Eel：0.11.0</strong></h4>
                <h4><strong>Webカメラ</strong></h4>
            </section>
            <!--スライド-->
            <section>
                <span class="background" style="background-image:url('./image/02.png')"></span>
                <div class="wrap">
                <img class="alignleft size-60" src="./image/architecture03.png">
                <br>
                <br>
                <h2>システム構成 概要</h2>
                <p><code>System architecture overview</code></p>
                <br>
                <br>
                <br>
                <br>
                <br>
                <h4><strong>OpenCVでカメラ画像を取得する</strong></h4>
                <br>
                <h4><strong>OpenCV：<br>　オープンソースのコンピュータビジョン向けライブラリ</strong></h4>
            </section>
            <section>
                <span class="background" style="background-image:url('./image/02.png')"></span>
                <div class="wrap">
                <img class="alignleft size-60" src="./image/architecture04.png">
                <br>
                <br>
                <h2>システム構成 概要</h2>
                <p><code>System architecture overview</code></p>
                <br>
                <br>
                <br>
                <br>
                <br>
                <h4><strong>Eelでローカルサーバを起動しWebSlidesを表示</strong></h4>
                <br>
                <h4><strong>Eel：<br>　ElectronライクなHTML/CSS/JSのGUIアプリを作成できるシンプルなパッケージ</strong></h4>
            </section>
            <!--スライド-->
            <section>
                <span class="background" style="background-image:url('./image/02.png')"></span>
                <div class="wrap">
                <img class="alignleft size-60" src="./image/architecture05.png">
                <br>
                <br>
                <h2>システム構成 概要</h2>
                <p><code>System architecture overview</code></p>
                <br>
                <br>
                <br>
                <br>
                <br>
                <h4><strong>OpenCVで取得した画像をbase64にエンコードして、Eelの機能でWebSlides側へ渡す</strong></h4>
            </section>
            <!--スライド-->
            <section>
                <span class="background" style="background-image:url('./image/02.png')"></span>
                <div class="wrap">
                    <img class="alignleft size-60" src="./image/architecture02.png">
                    <br>
                    <br>
                    <br>
                    <h2>システム構成 概要</h2>
                    <p><code>System architecture overview</code></p>
                    <br>
                    <br>
                    <h4><strong>WebSlides：<br>　HTML/CSS/JavaScriptで作られたプレゼンテーションソフト</strong></h4>
                </div>
            </section>
            <!--スライド-->
            <section>
                <span class="background" style="background-image:url('./image/02.png')"></span>
                <div class="grid vertical-align">
                    <div class="column">
                        <img class="alignleft size-100" src="./image/architecture02.png">
                    </div>
                    <!-- .end .column -->
                    <div class="column">
                        <strong><pre>
<span class="code-comment">&lt;!-- 以下のようにタグでスライドを定義します --&gt;</span>
<span class="code-comment">&lt;!-- Pythonと関係ないので詳しくはググってください --&gt;</span>
&lt;article id="webslides"&gt;
<span class="code-comment">    &lt;!-- Slide 01 --&gt;</span>
    &lt;section&gt;
        &lt;h1&gt;Slide 01&lt;/h1&gt;
    &lt;/section&gt;
<span class="code-comment">    &lt;!-- Slide 02 --&gt;</span>
    &lt;section&gt;
        &lt;h1&gt;Slide 02&lt;/h1&gt;
    &lt;/section&gt;
<span class="code-comment">    &lt;!-- Slide 03 --&gt;</span>
    &lt;section&gt;
        &lt;h1&gt;Slide 03&lt;/h1&gt;
    &lt;/section&gt;
&lt;/article"&gt;
                        </pre></strong>
                    </div>
                    <!-- .end .column -->
                </div>
                <!-- .end .grid -->
            </section>
            <!--スライド-->
            <section>
                <span class="background" style="background-image:url('./image/02.png')"></span>
                <div class="wrap">
                <img class="alignleft size-60" src="./image/architecture03.png">
                <br>
                <br>
                <h2>システム構成 概要</h2>
                <p><code>System architecture overview</code></p>
                <br>
                <br>
                <br>
                <br>
                <br>
                <h4><strong>OpenCVでカメラ画像を取得する</strong></h4>
                <br>
                <h4><strong>OpenCV：<br>　オープンソースのコンピュータビジョン向けライブラリ</strong></h4>
            </section>
            <!--スライド-->
            <section>
                <span class="background" style="background-image:url('./image/02.png')"></span>
                <div class="grid vertical-align">
                    <div class="column">
                        <img class="alignleft size-100" src="./image/architecture03.png">
                    </div>
                    <!-- .end .column -->
                    <div class="column">
                        <strong><pre>
import cv2 as cv

cap = cv.VideoCapture(0)

while True:
<span class="code-comment">    # カメラキャプチャ</span>
    ret, frame = cap.read()
                        </pre></strong>
                    </div>
                    <!-- .end .column -->
                </div>
                <!-- .end .grid -->
            </section>
            <!--スライド-->
            <section>
                <span class="background" style="background-image:url('./image/02.png')"></span>
                <div class="wrap">
                <img class="alignleft size-60" src="./image/architecture04.png">
                <br>
                <br>
                <h2>システム構成 概要</h2>
                <p><code>System architecture overview</code></p>
                <br>
                <br>
                <br>
                <br>
                <br>
                <h4><strong>Eelでローカルサーバを起動しWebSlidesを表示</strong></h4>
                <br>
                <h4><strong>Eel：<br>　ElectronライクなHTML/CSS/JSのGUIアプリを作成できるシンプルなパッケージ</strong></h4>
            </section>
            <!--スライド-->
            <section>
                <span class="background" style="background-image:url('./image/02.png')"></span>
                <div class="grid vertical-align">
                    <div class="column">
                        <img class="alignleft size-100" src="./image/architecture04.png">
                    </div>
                    <!-- .end .column -->
                    <div class="column">
                        <strong><pre>
import eel

<span class="code-comment"># EeLフォルダ設定、および起動</span>
eel.init('webslides')
eel.start(
    'index.html',
    mode='chrome',
    cmdline_args=['--start-fullscreen'],
    block=False)
                        </pre></strong>
                    </div>
                    <!-- .end .column -->
                </div>
                <!-- .end .grid -->
            </section>
            <!--スライド-->
            <section>
                <span class="background" style="background-image:url('./image/02.png')"></span>
                <div class="wrap">
                <img class="alignleft size-60" src="./image/architecture05.png">
                <br>
                <br>
                <h2>システム構成 概要</h2>
                <p><code>System architecture overview</code></p>
                <br>
                <br>
                <br>
                <br>
                <br>
                <h4><strong>OpenCVで取得した画像をbase64にエンコードして、Eelの機能でWebSlides側へ渡す</strong></h4>
            </section>
            <!--スライド-->
            <section>
                <span class="background" style="background-image:url('./image/02.png')"></span>
                <div class="grid vertical-align">
                    <div class="column">
                        <img class="alignleft size-100" src="./image/architecture05.png">
                    </div>
                    <!-- .end .column -->
                    <div class="column">
                        <strong><pre>
py：
<span class="code-comment"># UI側へ渡す</span>
_, imencode_image = cv.imencode('.jpg', draw_image)
base64_image = base64.b64encode(imencode_image)

eel.set_base64image("data:image/jpg;base64," + base64_image.decode("ascii"))
                        </pre></strong>
                        <strong><pre>
html：
<span class="code-comment">&lt;!-- eel.expose()にてPython側からJavaScript関数を呼べるようにする --&gt;</span>
eel.expose(set_base64image);
function set_base64image(base64image) {
    document.getElementById("python_video").src = base64image;
}
                        </pre></strong>
                    </div>
                </div>
                <!-- .end .column -->
                </div>
                <!-- .end .grid -->
            </section>
            <!--スライド-->
            <section>
                <span class="background" style="background-image:url('./image/02.png')"></span>
                <div class="grid vertical-align">
                    <div class="column">
                        <img class="alignleft size-100" src="./image/architecture01.png">
                    </div>
                    <div class="column">
                        <strong><pre>
import eel
import cv2 as cv
import base64

cap = cv.VideoCapture(0)

<span class="code-comment"># EeLフォルダ設定、および起動</span>
eel.init('webslides')
eel.start('index.html', mode='chrome', block=False)

while True:
    eel.sleep(0.01)

<span class="code-comment">    # カメラキャプチャ</span>
    ret, frame = cap.read()
    if not ret:
        continue

<span class="code-comment">    # UI側へ渡す</span>
    _, imencode_image = cv.imencode('.jpg', draw_image)
    base64_image = base64.b64encode(imencode_image)
    
    eel.set_base64image("data:image/jpg;base64," + base64_image.decode("ascii"))
                        </pre></strong>
                    </div>
                </div>
                <!-- .end .column -->
                </div>
                <!-- .end .grid -->
            </section>
            <!--スライド-->
            <section class="aligncenter">
                <span class="background" style="background-image:url('./image/02.png')"></span>
                <div class="wrap">
                    <div>
                        <h1>なんと、たったコレだけの行数で実現できました🙃</h1>
                        <h1>※誇張表現</h1>
                    </div>
                </div>
            </section>
            <!--スライド-->
            <section class="aligncenter">
                <span class="background" style="background-image:url('./image/02.png')"></span>
                <div class="wrap">
                    <div>
                        <h1>と言うと、流石に怒られそうなので……</h1>
                        <h1>以下のリポジトリで公開しています🙂</h1>
                        <br>
                        <h3>https://github.com/Kazuhito00/opencv2webslides-sample</h3>
                    </div>
                </div>
            </section>
            <!--スライド-->
            <section class="aligncenter">
                <span class="background" style="background-image:url('./image/02.png')"></span>
                <div class="wrap">
                  <img id="python_video02" class="alignright size-70" src="./image/noimage.png">
                  <h1>リアルタイム<br>デモ</h1>
                </div>
            </section>
            <!--スライド-->
            <section class="aligncenter">
                <span class="background" style="background-image:url('./image/02.png')"></span>
                <div class="wrap">
                    <div>
                        <h1>まとめ</h1>
                        <br>
                        <br>
                        <br>
                        <br>
                        <br>
                        <h2><li>プレゼンとデモがシームレスに繋がった</li></h2>
                        <br>
                        <br>
                        <h2><li>Eelを利用することで非常に短いSTEP数での実現が出来た</li></h2>
                        <br>
                        <br>
                        <h2><li>見ていた方が一味違ったように感じたら幸い<br><br>感じたよね？感じましたよね？？</li></h2>
                    </div>
                </div>
            </section>
            <!--スライド-->
            <section class="aligncenter">
                <span class="background" style="background-image:url('./image/02.png')"></span>
                <div class="wrap">
                    <div>
                        <h1>今後の課題</h1>
                        <br>
                        <br>
                        <br>
                        <br>
                        <br>
                        <h2><li>スライドの共有が非常に大変……</li></h2>
                        <br>
                        <br>
                        <h2><li>スライドの共有が非常に大変……</li></h2>
                        <br>
                        <br>
                        <h2><li>スライドの共有が非常に大変……</li></h2>
                    </div>
                </div>
            </section>
            <!--スライド-->
            <section class="aligncenter">
                <span class="background" style="background-image:url('./image/02.png')"></span>
                <div class="wrap">
                    <div>
                        <h1>ご清聴ありがとうございました🙂</h1>
                    </div>
                </div>
            </section>
        </article>

        <!-- Required -->
        <script src="./static/js/webslides.js"></script>
        <script>
            window.ws = new WebSlides({showIndex:false});
            window.ws.el.addEventListener('ws:slide-change', slideChangeEvent);

            function slideChangeEvent(event) {
                console.log("#section:" + event.detail.currentSlide0);
                eel.slide_change_event(event.detail.currentSlide0)
            }

            eel.expose(set_base64image01);
            function set_base64image01(base64image) {
                document.getElementById("python_video01").src = base64image;
            }

            eel.expose(set_base64image02);
            function set_base64image02(base64image) {
                document.getElementById("python_video02").src = base64image;
            }
                        
            eel.expose(go_nextslide);
            function go_nextslide() {
                window.ws.goNext();
            }
        </script>

        <!-- OPTIONAL - svg-icons.js (fontastic.me - Font Awesome as svg icons) -->
        <script defer src="./static/js/svg-icons.js"></script>
    </body>
</html>